<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boil Egg Steps</title>
  </head>
  <body>
    <script>
      // varsion 1.1
      // console.log("üë®‚Äçüç≥ Starting to boil an egg...\n");

      // const delay1 = Math.floor(Math.random() * 2000);
      // setTimeout(() => {
      //   console.log(`‚úÖ 1Ô∏è‚É£ Filling pot with water üíß done in ${delay1}ms`);

      //   const delay2 = Math.floor(Math.random() * 2000);
      //   setTimeout(() => {
      //     console.log(`‚úÖ 2Ô∏è‚É£ Boiling the water üî• done in ${delay2}ms`);

      //     const delay3 = Math.floor(Math.random() * 2000);
      //     setTimeout(() => {
      //       console.log(
      //         `‚úÖ 3Ô∏è‚É£ Dropping in the egg and cooking ü•ö done in ${delay3}ms`
      //       );
      //       console.log("\nüç≥ Egg boiling steps completed!");
      //     }, delay3);
      //   }, delay2);
      // }, delay1);

      // version 1.2
      // function boilStep(step, fn) {
      //   const delay = Math.floor(Math.random() * 2000);

      //   setTimeout(() => {
      //     console.log(`‚úÖ ${step} done in ${delay}ms`);
      //     fn();
      //   }, delay);
      // }
      // // function fn() {}
      // console.log("üë®‚Äçüç≥ Starting to boil an egg...\n");

      // // These fire simultaneously ‚Äî order is random!
      // boilStep("1Ô∏è‚É£ Filling pot with water üíß", () => {
      //   boilStep("2Ô∏è‚É£ Boiling the water üî•", () => {
      //     boilStep("3Ô∏è‚É£ Dropping in the egg and cooking ü•ö", () => {
      //       console.log("cooking is done!");
      //     });
      //   });
      // });

      // Using Promise
      function boilStep(step) {
        const delay = Math.floor(Math.random() * 2000);
        return new Promise((resolve, reject) => {
          try {
            setTimeout(() => {
              // resolve(`Step "${step}" done in ${delay}ms`);

              console.log(`‚úÖ ${step} done in ${delay}ms`);
              resolve();
            }, delay);
          } catch {
            reject("Unfortunatly cooking stoped");
          }
        });
      }
      // usign async await
      async function startCooking() {
        // const step1 = await boilStep("1Ô∏è‚É£ Filling pot with water üíß");
        // console.log(step1);
        // const step2 = await boilStep("2Ô∏è‚É£ Boiling the water üî•");
        // console.log(step2);
        // const step3 = await boilStep("3Ô∏è‚É£ Dropping in the egg and cooking ü•ö");
        // console.log(step3);
        await boilStep("1Ô∏è‚É£ Filling pot with water üíß");
        await boilStep("2Ô∏è‚É£ Boiling the water üî•");
        await boilStep("3Ô∏è‚É£ Dropping in the egg and cooking ü•ö");
        console.log("üç≥ Cooking is done!");
      }

      console.log("üë®‚Äçüç≥ Starting to boil an egg...");
      startCooking();
      // console.log(startCooking());
      // boilStep("1Ô∏è‚É£ Filling pot with water üíß")
      //   .then(() => boilStep("2Ô∏è‚É£ Boiling the water üî•"))
      //   .then(() => boilStep("3Ô∏è‚É£ Dropping in the egg and cooking ü•ö"))
      //   .then(() => {
      //     console.log("üç≥ Cooking is done!");
      //   });
    </script>
  </body>
</html>
